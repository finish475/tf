#!name=Giám sát Beta Puplic
#!desc=Modul tham gia và đóng TestFlight,Chỉ dùng Surge
#!system=ios
#!arguments=INFO_FETCH_SCRIPT_NAME:Thu thập thông tin,CRON_SECONDS:5
#!arguments-desc=[Cài đặt tham số]\n1. INFO_FETCH_SCRIPT_NAME: Tùy chỉnh điểm bắt đầu và điểm dừng của tập lệnh "thu thập thông tin", Sau khi nhận được Mã thông báo TestFlight và APP_ID, để tránh những hạn chế không cần thiết, Nên thêm # vào tham số tên tập lệnh để nhận xét tập lệnh.;\n2. CRON_SECONDS: Tùy chỉnh khoảng thời gian giữa các giây thực thi tập lệnh "tham gia thử nghiệm", Theo mặc định, nó được thực thi 5 giây một lần. Vui lòng điều chỉnh giá trị này nếu cần (đơn vị mặc định là/giây,＜5sKhoảng thời gian có thể dẫn đến thông báo lặp lại do xóa APP_ID không kịp thời);\n\n[Hướng dẫn]\n1. Mở Surge http-api;\n2. Sau khi kích hoạt tập lệnh "Thu thập thông tin", hãy mở ứng dụng TestFlight để nhận Token thông báo;\n3. Sau khi bật tập lệnh "Thu thập thông tin", hãy sao chép liên kết TestFlight và dán vào trình duyệt để mở và lấy APP_ID;\n4. Điều chỉnh tham số CRON_SECONDS để thay đổi tần suất thực thi của tập lệnh "join test";\n\n[Nhận thủ công]\n1. Boxjs điền dữ liệu liên tục của "APP_ID",Dữ liệu key(Nội dung)Ví dụ liên kết TestFlight https://testflight.apple.com/join/LPQmtkUs Mã tham gia (Ví dụ "LPQmtkUs,xxx,xxxSử dụng nhiều key và tách chúng ra");\n2. Boxjs Đăng ký https://raw.githubusercontent.com/githubdulong/Script/master/boxjs.json;\n\n[Giới thiệu Modul]\n▎Chụp và lưu trữ thủ công hoặc tự động ID ứng dụng do tác giả TestFlight mở và cố gắng tự động tham gia chương trình TestFlight.\n▎Tự động loại bỏ các ID ứng dụng TestFlight không hợp lệ hoặc không mở để thử nghiệm và tập trung vào việc thu giữ các ID đang mở nhưng đã đầy.\n▎Thích ứng với các tham số mới của Surge, đơn giản hóa cấu hình tùy chỉnh mô-đun và loại bỏ các môi trường phụ thuộc khác.

[Script]
{{{INFO_FETCH_SCRIPT_NAME}}} = type=http-request,pattern=^https:\/\/testflight\.apple\.com\/(v3\/accounts\/.*\/apps|join\/[A-Za-z0-9]+)$,script-path=https://raw.githubusercontent.com/finish475/tf/main/Auto_join_TF.js
Tham gia TestFlight = type=cron,cronexp="*/{{{CRON_SECONDS}}} * * * * *",script-path=https://raw.githubusercontent.com/finish475/tf/main/Auto_join_TF.js,wake-system=0,timeout=180,engine=auto

[MITM]
hostname = %APPEND% testflight.apple.com
